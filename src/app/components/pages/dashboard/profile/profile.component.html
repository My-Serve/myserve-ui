<div class="flex min-h-screen justify-center items-center">
  <p-card [style]="{ width: '30vw', height: '35vw'}" class="max-w-sm w-full shadow-lg rounded-lg p-4">
    <div class="flex flex-col gap-5">
      <div class="flex justify-center items-center">
        <h3>Create Profile</h3>
      </div>
    </div>

    <div class="mt-7">
      <form [formGroup]="form" >
        <div class="flex flex-col gap-3 justify-center items-center">

          <div class="flex flex-col gap-3">
            <div class="relative inline-block">
              <div class="rounded-full overflow-hidden cursor-pointer" (click)="clickProfile()">
                @if(!profilePicture){
                  <p-avatar
                    label="P"
                    styleClass="ms-6"
                    size="xlarge"
                    shape="circle"
                    [pTooltip]="'Select an image'"
                  />
                } @else {
                  <p-avatar
                    [image]="profilePicture"
                    styleClass="ms-6"
                    size="xlarge"
                    shape="circle"
                    [pTooltip]="'Remove the image'"
                  />
                }
              </div>
              <input type="file" #fileInput id="file-input" class="hidden" accept="image/*" (change)="selectImage($event)" />
            </div>
            <label class="pt-2 me-5">Profile Picture</label>
          </div>

          <div class="flex flex-col gap-3">
            <label class="pt-2 me-5">First Name</label>
            <input maxlength="50" required type="text" class="pe-[10vw]" formControlName="firstName" pInputText />
          </div>

          <div class="flex flex-col gap-3">
            <label class="pt-2 me-5">Last Name</label>
            <input maxlength="50" required type="text" class="pe-[10vw]"  formControlName="lastName" pInputText />
          </div>

          <div class="flex flex-col gap-3">
            <label class="pt-2 me-5">Encryption Password</label>
            <div class="flex flex-row gap-3">
              <input required maxlength="40" type="text" class="pe-[7vw]" formControlName="encKey" pInputText />
              <p-button  (onClick)="generateRandomEnc()" pTooltip="Generate random" outlined="true" rounded="true" icon="pi pi-refresh" />
            </div>
          </div>

          <div class="flex flex-col gap-3 mt-5">
            <p-button outlined="true" (onClick)="save()" [pTooltip]="form.invalid ? 'Please validate the form.' : ''" [disabled]="form.invalid" severity="info" label="Create Profile" icon="pi pi-check" />
          </div>
        </div>
      </form>
    </div>
  </p-card>

</div>
